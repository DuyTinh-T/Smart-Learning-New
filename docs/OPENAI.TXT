ğŸ§  1. Ã tÆ°á»Ÿng & Kiáº¿n trÃºc (simple & thá»±c táº¿ nháº¥t)

Báº¡n sáº½ cÃ³ 2 luá»“ng AI chÃ­nh:

â­ 1) AI Recommendation â€” Gá»£i Ã½ khÃ³a há»c / bÃ i há»c cho há»c sinh

Dá»±a trÃªn:

lá»‹ch sá»­ há»c

mÃ´n há»c yÃªu thÃ­ch

Ä‘iá»ƒm sá»‘

tiáº¿n Ä‘á»™ há»c

tags cá»§a khÃ³a há»c
â†’ Báº¡n gá»­i data nÃ y sang GPT vÃ  yÃªu cáº§u táº¡o danh sÃ¡ch gá»£i Ã½.

â­ 2) AI Lesson Creator â€” Táº¡o bÃ i há»c + quiz tá»± Ä‘á»™ng

Teacher nháº­p:

tÃªn bÃ i há»c

má»¥c tiÃªu

cáº¥p Ä‘á»™ há»c sinh

yÃªu cáº§u sá»‘ cÃ¢u

â†’ GPT sáº½ sinh ra:

ná»™i dung bÃ i há»c

cÃ¢u há»i quiz

lÃ½ giáº£i Ä‘Ãºng/sai

file JSON Ä‘á»ƒ báº¡n lÆ°u vÃ o DB

ğŸ— 2. Thiáº¿t káº¿ API trong Next.js (dÃ¹ng Route Handler /app/api)

Báº¡n sáº½ táº¡o 2 endpoints:

/api/ai/recommend
/api/ai/generate-lesson


Má»—i endpoint sáº½ gá»i OpenAI API â†’ tráº£ dá»¯ liá»‡u JSON â†’ frontend xá»­ lÃ½ â†’ lÆ°u MongoDB.

ğŸ”‘ 3. Code máº«u FULL tÃ­ch há»£p OpenAI API vÃ o Next.js 14+
CÃ i dependency
npm i openai

ğŸ§© Táº¡o file ENV

.env.local

OPENAI_API_KEY="your_key_here"

ğŸš€ A. API Táº O Gá»¢I Ã KHÃ“A Há»ŒC

File: app/api/ai/recommend/route.ts

import OpenAI from "openai";

export async function POST(req: Request) {
  const body = await req.json();
  const { studentProfile, learningHistory } = body;

  const client = new OpenAI({
    apiKey: process.env.OPENAI_API_KEY
  });

  const prompt = `
    Báº¡n lÃ  há»‡ thá»‘ng AI cá»§a ná»n táº£ng há»c táº­p.
    HÃ£y dá»±a vÃ o thÃ´ng tin há»c sinh sau Ä‘á»ƒ gá»£i Ã½ 5 khÃ³a há»c phÃ¹ há»£p:

    Há»“ sÆ¡ há»c sinh:
    ${JSON.stringify(studentProfile)}

    Lá»‹ch sá»­ há»c:
    ${JSON.stringify(learningHistory)}

    Output dáº¡ng JSON:
    [
      {
        "title": "",
        "reason": "",
        "difficulty": "",
        "tags": []
      }
    ]
  `;

  const response = await client.responses.create({
    model: "gpt-4.1",
    input: prompt
  });

  const result = response.output_text;

  return Response.json({
    recommendations: JSON.parse(result)
  });
}

ğŸš€ B. API Táº O BÃ€I Há»ŒC & QUIZZES

File: app/api/ai/generate-lesson/route.ts

import OpenAI from "openai";

export async function POST(req: Request) {
  const { topic, level, numQuestions } = await req.json();

  const client = new OpenAI({
    apiKey: process.env.OPENAI_API_KEY
  });

  const prompt = `
    Táº¡o má»™t bÃ i há»c theo yÃªu cáº§u bÃªn dÆ°á»›i:

    Chá»§ Ä‘á»: ${topic}
    Cáº¥p Ä‘á»™: ${level}
    Sá»‘ cÃ¢u há»i quiz: ${numQuestions}

    Output dáº¡ng JSON:
    {
      "lessonTitle": "",
      "objective": "",
      "content": "",
      "quiz": [
        {
          "question": "",
          "options": ["","", "", ""],
          "answer": "",
          "explanation": ""
        }
      ]
    }
  `;

  const response = await client.responses.create({
    model: "gpt-4.1",
    input: prompt
  });

  const result = response.output_text;

  return Response.json(JSON.parse(result));
}

ğŸ¨ Frontend dÃ¹ng API (Next.js client component)

VÃ­ dá»¥ gá»i API táº¡o bÃ i há»c:

async function generateLesson() {
  const res = await fetch("/api/ai/generate-lesson", {
    method: "POST",
    body: JSON.stringify({
      topic: "Photosynthesis",
      level: "Grade 8",
      numQuestions: 5
    })
  });

  const data = await res.json();
  console.log("AI Lesson:", data);
}

ğŸ“¦ LÆ°u vÃ o MongoDB

Báº¡n chá»‰ cáº§n láº¥y JSON AI tráº£ vá» rá»“i insert:

await Lessons.create(data);

ğŸ”¥ Báº¡n cÃ³ thá»ƒ má»Ÿ rá»™ng thÃªm:
âœ” AI táº¡o Ä‘á» thi cÃ³ nhiá»u cáº¥p Ä‘á»™
âœ” AI Ä‘Ã¡nh giÃ¡ bÃ i lÃ m há»c sinh
âœ” AI cháº¥m bÃ i tá»± luáº­n
âœ” AI phÃ¢n tÃ­ch Ä‘iá»ƒm yáº¿u cá»§a há»c sinh vÃ  Ä‘Æ°a study roadmap
âœ” AI viáº¿t láº¡i bÃ i giáº£ng cho cÃ¡c cáº¥p Ä‘á»™ khÃ¡c nhau
âœ” AI táº¡o video script tá»« bÃ i há»c

â†’ Táº¥t cáº£ Ä‘á»u dÃ¹ng chung OpenAI API phÃ­a trÃªn.